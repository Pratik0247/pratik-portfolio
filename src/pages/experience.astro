---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const experience = await getCollection("experience");
const items = experience.sort((a, b) =>
  (b.data.start > a.data.start ? 1 : -1)
);
---
<BaseLayout title="Experience">
  <h1 class="text-3xl font-semibold tracking-tight">Experience</h1>
  <div class="mt-6 space-y-8">
    {items.map(({ data }) => (
      <section class="border border-white/10 rounded-2xl p-5">
        <h2 class="text-xl font-semibold">{data.company} â€” {data.role}</h2>
        <p class="text-sm text-white/70">{data.period}</p>
        {data.highlights && (
          <ul class="mt-3 list-disc pl-5 text-white/80">
            {data.highlights.map((h) => <li>{h}</li>)}
          </ul>
        )}
      </section>
    ))}
  </div>
</BaseLayout>
